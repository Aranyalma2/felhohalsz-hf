<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Upload Photo</h1>
    <a href="/" class="btn btn-secondary">‚Üê Back to Gallery</a>
  </div>

  <form action="/upload" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
    <div class="mb-3">
      <label for="imageInput" class="form-label">Select image</label>
      <input type="file" class="form-control" name="image" id="imageInput" accept="image/*" required>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <input type="text" class="form-control" name="description" id="description" placeholder="e.g. People in the park" required>
    </div>

    <button type="submit" class="btn btn-primary">Upload</button>

    <div class="mt-4">
      <h5>Preview:</h5>
      <img id="previewImage" src="#" alt="Image preview" class="img-thumbnail" style="max-width: 300px; display: none;" />
    </div>
  </form>
</div>

<script>
  const imageInput = document.getElementById('imageInput');
  const previewImage = document.getElementById('previewImage');

  imageInput.addEventListener('change', function () {
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        previewImage.src = e.target.result;
        previewImage.style.display = 'block';
      };
      reader.readAsDataURL(file);
    } else {
      previewImage.src = '#';
      previewImage.style.display = 'none';
    }
  });
</script>
